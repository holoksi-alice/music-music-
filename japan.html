<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>東京聖誕浪漫之旅</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script type="importmap">
        {
            "imports": {
                "react": "https://esm.sh/react@18.2.0",
                "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
                "lucide-react": "https://esm.sh/lucide-react@0.263.1"
            }
        }
    </script>
    <script type="module" src="https://esm.sh/run" defer></script>

    <!-- Custom Styles -->
    <style>
        body {
            -webkit-tap-highlight-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        @keyframes fall {
            0% { transform: translateY(-10vh) translateX(0px) rotate(0deg); }
            100% { transform: translateY(110vh) translateX(20px) rotate(360deg); }
        }
        .animate-fall {
            animation-name: fall;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }
        
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
        }
        
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 8s linear infinite;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            MapPin, Calendar, Coffee, Camera, Car, ShoppingBag, 
            DollarSign, Train, Snowflake, Music, Navigation, 
            Star, Clock, Hotel, Utensils, Plane, Trash2, Heart
        } from 'lucide-react';

        // 雪花背景組件
        const Snowfall = () => {
            const [snowflakes, setSnowflakes] = useState([]);

            useEffect(() => {
                const flakes = Array.from({ length: 20 }).map((_, i) => ({
                    id: i,
                    left: `${Math.random() * 100}%`,
                    animationDuration: `${Math.random() * 3 + 4}s`,
                    animationDelay: `${Math.random() * 5}s`,
                    opacity: Math.random() * 0.5 + 0.3,
                    size: Math.random() * 10 + 10
                }));
                setSnowflakes(flakes);
            }, []);

            return (
                <div className="fixed inset-0 pointer-events-none z-0 overflow-hidden">
                    {snowflakes.map((flake) => (
                        <div
                            key={flake.id}
                            className="absolute top-[-20px] text-white animate-fall"
                            style={{
                                left: flake.left,
                                animationDuration: flake.animationDuration,
                                animationDelay: flake.animationDelay,
                                opacity: flake.opacity,
                                fontSize: `${flake.size}px`
                            }}
                        >
                            ❄
                        </div>
                    ))}
                </div>
            );
        };

        const TransportCard = ({ type, info, duration }) => (
            <div className="flex flex-col items-center py-3 px-4 relative z-10">
                <div className="h-4 w-0.5 bg-slate-300/50 mb-1"></div>
                <div className="bg-white/90 backdrop-blur-sm border border-slate-200 text-slate-600 text-xs py-2 px-4 rounded-full flex items-center gap-2 shadow-sm">
                    {type === 'car' ? <Car size={14} className="text-blue-500" /> : <Train size={14} className="text-emerald-500" />}
                    <span className="font-medium text-slate-700">{info}</span>
                    {duration && <span className="bg-slate-100 px-2 py-0.5 rounded-full text-slate-500 text-[10px] font-bold">{duration}</span>}
                </div>
                <div className="h-4 w-0.5 bg-slate-300/50 mt-1"></div>
            </div>
        );

        const ItineraryCard = ({ time, title, location, type, details, mapQuery, important, transport }) => {
            
            const getVisual = () => {
                switch (type) {
                    case 'food': return { icon: <Utensils size={24} />, bg: 'bg-amber-100', text: 'text-amber-600', border: 'border-amber-200' };
                    case 'shop': return { icon: <ShoppingBag size={24} />, bg: 'bg-pink-100', text: 'text-pink-600', border: 'border-pink-200' };
                    case 'sight': return { icon: <Camera size={24} />, bg: 'bg-cyan-100', text: 'text-cyan-600', border: 'border-cyan-200' };
                    case 'ski': return { icon: <Snowflake size={24} />, bg: 'bg-slate-100', text: 'text-slate-600', border: 'border-slate-200' };
                    case 'move': return { icon: <Car size={24} />, bg: 'bg-blue-100', text: 'text-blue-600', border: 'border-blue-200' };
                    case 'flight': return { icon: <Plane size={24} />, bg: 'bg-sky-100', text: 'text-sky-600', border: 'border-sky-200' };
                    default: return { icon: <Star size={24} />, bg: 'bg-purple-100', text: 'text-purple-600', border: 'border-purple-200' };
                }
            };

            const visual = getVisual();

            const openMap = () => {
                const query = mapQuery || location || title;
                window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');
            };

            return (
                <div className="relative z-10">
                    {transport && (
                        <TransportCard 
                            type={transport.type} 
                            info={transport.route} 
                            duration={transport.time} 
                        />
                    )}

                    <div className={`relative group transition-all duration-300 ${important ? 'transform scale-[1.02]' : ''}`}>
                        {important && (
                            <div className="absolute -inset-1 bg-gradient-to-r from-pink-300 via-purple-300 to-indigo-300 rounded-2xl blur opacity-30 group-hover:opacity-60 transition duration-500 animate-pulse"></div>
                        )}
                        
                        <div className={`relative bg-white rounded-2xl p-5 shadow-sm hover:shadow-md transition-shadow border ${important ? 'border-indigo-200' : 'border-slate-100'}`}>
                            <div className="flex gap-4 items-start">
                                
                                <div className="flex flex-col items-center gap-2 min-w-[3.5rem]">
                                    <span className="text-xs font-bold text-slate-400 font-mono tracking-wider">{time}</span>
                                    <div className={`w-12 h-12 rounded-2xl flex items-center justify-center ${visual.bg} ${visual.text} border ${visual.border}`}>
                                        {visual.icon}
                                    </div>
                                    {important && <Heart size={12} className="text-pink-400 fill-pink-400 animate-bounce" />}
                                </div>

                                <div className="flex-1 min-w-0">
                                    <h3 className="font-bold text-slate-800 text-lg leading-tight mb-1 truncate">
                                        {title}
                                    </h3>
                                    
                                    {location && (
                                        <div className="flex items-center text-xs text-slate-500 mb-3 gap-1 truncate">
                                            <MapPin size={12} className="text-slate-400" />
                                            <span>{location}</span>
                                        </div>
                                    )}

                                    {details && (
                                        <div className="text-sm text-slate-600 bg-slate-50 p-3 rounded-xl border border-slate-100 mb-3 leading-relaxed">
                                            {details}
                                        </div>
                                    )}

                                    <button 
                                        onClick={openMap}
                                        className="w-full py-2 bg-slate-50 hover:bg-slate-100 text-slate-600 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-colors border border-slate-200"
                                    >
                                        <Navigation size={14} /> 導航
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const HotelCard = ({ hotel }) => (
            <div className="mt-8 mx-1 bg-gradient-to-br from-slate-800 to-indigo-900 rounded-2xl p-5 text-white shadow-xl relative overflow-hidden z-10">
                <div className="absolute top-0 right-0 w-32 h-32 bg-white opacity-5 rounded-full blur-2xl transform translate-x-10 -translate-y-10"></div>
                
                <div className="relative z-10 flex items-start justify-between">
                    <div>
                        <div className="flex items-center gap-2 text-indigo-200 mb-2 text-[10px] font-bold uppercase tracking-widest">
                            <Hotel size={14} /> Tonight's Stay
                        </div>
                        <h3 className="text-lg font-bold mb-1 leading-tight">{hotel.name}</h3>
                        <p className="text-xs text-indigo-100/70 mb-4 font-light max-w-[80%]">{hotel.address}</p>
                    </div>
                    <div className="bg-white/10 p-2 rounded-lg backdrop-blur-md">
                        <Hotel size={24} className="text-white" />
                    </div>
                </div>
                    
                <button 
                    onClick={() => window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(hotel.name + ' ' + hotel.address)}`, '_blank')}
                    className="w-full py-2 bg-white/10 hover:bg-white/20 border border-white/10 rounded-xl text-sm font-medium text-white transition-colors flex items-center justify-center gap-2"
                >
                    <Navigation size={14} /> 帶我們回飯店
                </button>
            </div>
        );

        const BudgetCalculator = () => {
            const [items, setItems] = useState([
                { id: 1, name: '預估餐費 (總計)', amount: 200000 },
                { id: 2, name: '迪士尼門票', amount: 21800 },
                { id: 3, name: '租車費用 (預估)', amount: 35000 },
                { id: 4, name: '住宿 (總計)', amount: 250000 },
            ]);
            const [newItemName, setNewItemName] = useState('');
            const [newItemAmount, setNewItemAmount] = useState('');

            const addItem = () => {
                if (newItemName && newItemAmount) {
                    setItems([...items, { id: Date.now(), name: newItemName, amount: parseInt(newItemAmount) }]);
                    setNewItemName('');
                    setNewItemAmount('');
                }
            };

            const deleteItem = (id) => {
                setItems(items.filter(item => item.id !== id));
            };

            const total = items.reduce((sum, item) => sum + item.amount, 0);

            return (
                <div className="p-4 space-y-4 pb-24 relative z-10">
                    <div className="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-lg border border-indigo-100 text-center relative overflow-hidden">
                        <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 to-purple-400"></div>
                        <h3 className="text-slate-400 text-xs uppercase tracking-widest mb-2 font-bold">Total Budget</h3>
                        <div className="text-5xl font-bold text-slate-800 tracking-tight my-2">¥{total.toLocaleString()}</div>
                        <div className="inline-block bg-slate-100 px-3 py-1 rounded-full text-xs text-slate-500 font-medium">
                            約 HKD {(total * 0.052).toLocaleString(undefined, {maximumFractionDigits: 0})}
                        </div>
                    </div>

                    <div className="bg-white/80 backdrop-blur-sm rounded-2xl p-5 shadow-sm border border-slate-100">
                        <h4 className="font-bold text-slate-700 mb-3 flex items-center gap-2 text-sm">
                            <DollarSign size={16} className="text-emerald-500" /> 新增支出
                        </h4>
                        <div className="flex gap-2 mb-3">
                            <input 
                                type="text" 
                                placeholder="項目" 
                                className="flex-1 p-3 rounded-xl bg-slate-50 border border-slate-200 text-sm focus:outline-none focus:border-indigo-400 transition-colors"
                                value={newItemName}
                                onChange={(e) => setNewItemName(e.target.value)}
                            />
                            <input 
                                type="number" 
                                placeholder="¥" 
                                className="w-24 p-3 rounded-xl bg-slate-50 border border-slate-200 text-sm focus:outline-none focus:border-indigo-400 transition-colors"
                                value={newItemAmount}
                                onChange={(e) => setNewItemAmount(e.target.value)}
                            />
                        </div>
                        <button 
                            onClick={addItem}
                            className="w-full py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl text-sm font-bold shadow-lg shadow-slate-200 transition-all active:scale-[0.98]"
                        >
                            加入清單
                        </button>
                    </div>

                    <div className="space-y-3">
                        {items.map(item => (
                            <div key={item.id} className="group flex justify-between items-center bg-white p-4 rounded-2xl shadow-sm border border-slate-100 hover:border-indigo-100 transition-colors">
                                <div className="flex flex-col">
                                    <span className="text-slate-700 font-medium text-sm">{item.name}</span>
                                </div>
                                <div className="flex items-center gap-4">
                                    <span className="font-mono font-bold text-slate-800">¥{item.amount.toLocaleString()}</span>
                                    <button 
                                        onClick={() => deleteItem(item.id)}
                                        className="text-slate-300 hover:text-red-400 p-2 rounded-full hover:bg-red-50 transition-all"
                                    >
                                        <Trash2 size={16} />
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('itinerary');
            const [selectedDate, setSelectedDate] = useState(0);

            const hotels = {
                tokyo: { name: '相鐵 GRAND FRESA 高田馬場', address: '東京都新宿區高田馬場 1-27-7' },
                nagano: { name: 'AQUA Hotel Premium 佐久平', address: '長野県佐久市佐久平駅東 2-6' },
                last: { name: '東京蒙特埃爾馬納酒店 (日本橋)', address: '東京都中央區日本橋 3-3-15' },
                home: { name: '溫暖的家', address: 'Hong Kong' }
            };

            const itineraryData = [
                {
                    date: '12/24',
                    day: 'Wed',
                    title: '平安夜．米其林',
                    hotel: hotels.tokyo,
                    events: [
                        { 
                            time: '11:45', 
                            title: 'Lunch: Yakitori Omino', 
                            location: '墨田區押上 1-38-4', 
                            type: 'food', 
                            details: '【已預約】頂級炭火燒鳥，近晴空塔。',
                            transport: { type: 'train', route: '東西線 (高田馬場→日本橋) 轉 淺草線 (→押上)', time: '45分' }
                        },
                        { 
                            time: '14:30', 
                            title: '聖誕市集: 丸之內', 
                            location: '東京站行幸通', 
                            type: 'sight', 
                            details: '溜冰場、香檳金燈飾。',
                            transport: { type: 'train', route: '半藏門線 (押上→大手町) 步行', time: '20分' }
                        },
                        { 
                            time: '16:30', 
                            title: '市集: 明治神宮外苑', 
                            location: '明治神宮外苑', 
                            type: 'sight', 
                            details: '東京最大市集，聖誕金字塔。',
                            transport: { type: 'train', route: '丸之內線 (東京→四谷三丁目)', time: '30分' }
                        },
                        { 
                            time: '20:00', 
                            title: 'Dinner: 木曾路', 
                            location: '新宿區新宿 3-17-5', 
                            type: 'food', 
                            important: true, 
                            details: '【已預約】頂級壽喜燒。',
                            transport: { type: 'train', route: '丸之內線 (四谷三丁目→新宿三丁目)', time: '10分' }
                        },
                    ]
                },
                {
                    date: '12/25',
                    day: 'Thu',
                    title: '聖誕節．迪士尼',
                    hotel: hotels.tokyo,
                    events: [
                        { 
                            time: '09:00', 
                            title: 'Tokyo Disneyland', 
                            location: 'Maihama', 
                            type: 'sight', 
                            important: true, 
                            details: '全天沉浸在童話世界。午餐：紅心皇后。',
                            transport: { type: 'train', route: '東西線(→西船橋) 轉 武藏野線(→舞濱)', time: '55分' }
                        },
                        { 
                            time: '20:30', 
                            title: '聖誕煙火', 
                            location: 'Cinderella Castle',
                            type: 'sight', 
                            details: 'Sky Full of Colors。' 
                        },
                        { 
                            time: '21:15', 
                            title: 'Dinner: Ikspiari', 
                            location: 'Maihama Ikspiari', 
                            type: 'food', 
                            details: 'Rainforest Cafe 或 美式 BBQ。' 
                        },
                    ]
                },
                {
                    date: '12/26',
                    day: 'Fri',
                    title: 'Boxing Day．銀座',
                    hotel: hotels.tokyo,
                    events: [
                        { 
                            time: '11:40', 
                            title: 'Lunch: 銀座 篝', 
                            location: 'Ginza', 
                            type: 'food', 
                            details: '雞白湯拉麵名店。',
                            transport: { type: 'train', route: '東西線 (→日本橋) 轉 銀座線', time: '30分' }
                        },
                        { 
                            time: '13:00', 
                            title: 'Shopping: 銀座巡禮', 
                            location: 'Ginza Six', 
                            type: 'shop', 
                            details: 'Yamaha、Ginza Six、伊東屋。' 
                        },
                        { 
                            time: '17:30', 
                            title: 'Dinner: Tokyo Sezanne', 
                            location: 'Four Seasons Marunouchi', 
                            type: 'food', 
                            important: true, 
                            details: '【已預約】米其林法式料理。',
                            transport: { type: 'move', route: '步行前往丸之內', time: '10分' }
                        },
                    ]
                },
                {
                    date: '12/27',
                    day: 'Sat',
                    title: '購物．池袋新宿',
                    hotel: hotels.tokyo,
                    events: [
                        { 
                            time: '11:00', 
                            title: 'Shopping: 池袋', 
                            location: 'Sunshine City', 
                            type: 'shop', 
                            details: 'Sunshine City, Parco。',
                            transport: { type: 'train', route: '山手線 (高田馬場→池袋)', time: '4分' }
                        },
                        { 
                            time: '13:00', 
                            title: 'Lunch: HARBS', 
                            location: 'Lumine Est Shinjuku', 
                            type: 'food', 
                            details: '必吃水果千層蛋糕。',
                            transport: { type: 'train', route: '埼京線/山手線 (池袋→新宿)', time: '10分' }
                        },
                        { 
                            time: '19:30', 
                            title: 'Dinner: 炭火燒肉 Nakahara', 
                            location: '市谷 GEMS 9F', 
                            type: 'food', 
                            important: true, 
                            details: '【已預約】傳說中的剪肉神技。',
                            transport: { type: 'train', route: '總武線 (新宿→市谷)', time: '15分' }
                        },
                    ]
                },
                {
                    date: '12/28',
                    day: 'Sun',
                    title: '自駕．輕井澤',
                    hotel: hotels.nagano,
                    events: [
                        { 
                            time: '08:00', 
                            title: '取車: IX Rental Car', 
                            location: '淺草橋', 
                            type: 'move', 
                            important: true, 
                            details: '請準時，帶護照驾照。',
                            transport: { type: 'train', route: '總武線 (高田馬場→淺草橋)', time: '30分' }
                        },
                        { 
                            time: '10:00', 
                            title: 'Sports Depo 高崎店', 
                            location: '群馬高崎', 
                            type: 'shop', 
                            details: '中途停靠，買滑雪用品。',
                            transport: { type: 'car', route: '高速公路 (東京→高崎)', time: '2小時' }
                        },
                        { 
                            time: '12:30', 
                            title: 'Lunch: Kua\'Aina', 
                            location: 'Karuizawa Outlet', 
                            type: 'food', 
                            details: '夏威夷漢堡。',
                            transport: { type: 'car', route: '國道/高速 (高崎→輕井澤)', time: '1小時' }
                        },
                        { 
                            time: '14:00', 
                            title: 'Shopping: 輕井澤 Outlet', 
                            location: 'Prince Shopping Plaza', 
                            type: 'shop', 
                            details: '全日本最美 Outlet。' 
                        },
                        { 
                            time: '19:00', 
                            title: 'Dinner: 海鮮屋 黑船', 
                            location: '佐久平', 
                            type: 'food', 
                            details: '當地人氣居酒屋。',
                            transport: { type: 'car', route: '開車前往佐久平', time: '25分' }
                        },
                    ]
                },
                {
                    date: '12/29',
                    day: 'Mon',
                    title: '滑雪．壁爐晚餐',
                    hotel: hotels.nagano,
                    events: [
                        { 
                            time: '09:00', 
                            title: 'Ski: 輕井澤王子滑雪場', 
                            location: 'Karuizawa Ski Resort', 
                            type: 'ski', 
                            important: true, 
                            details: '滑雪體驗 (含租借時間)。',
                            transport: { type: 'car', route: '飯店前往滑雪場', time: '20分' }
                        },
                        { 
                            time: '16:00', 
                            title: '星野區散步', 
                            location: 'Hoshino Area', 
                            type: 'sight', 
                            details: '榆樹街小鎮、高原教堂。',
                            transport: { type: 'car', route: '滑雪場前往星野', time: '15分' }
                        },
                        { 
                            time: '20:00', 
                            title: 'Dinner: Pyrenees', 
                            location: 'Karuizawa 1181-8', 
                            type: 'food', 
                            important: true, 
                            details: '【已預約】暖爐燒烤全雞。',
                            transport: { type: 'car', route: '開車前往餐廳', time: '10分' }
                        },
                    ]
                },
                {
                    date: '12/30',
                    day: 'Tue',
                    title: '輕井澤．慢活',
                    hotel: hotels.nagano,
                    events: [
                        { 
                            time: '10:00', 
                            title: '舊輕井澤銀座通', 
                            location: 'Kyu-Karuizawa', 
                            type: 'sight', 
                            details: '雲場池散步，購買果醬。',
                            transport: { type: 'car', route: '市區漫遊', time: '15分' }
                        },
                        { 
                            time: '15:00', 
                            title: 'Tea: Eloise\'s Cafe', 
                            location: 'Karuizawa', 
                            type: 'food', 
                            details: '名物法式吐司。' 
                        },
                        { 
                            time: '18:00', 
                            title: 'Dinner: Hama Sushi', 
                            location: 'Sakudaira', 
                            type: 'food', 
                            details: '佐久平店，輕鬆迴轉壽司。',
                            transport: { type: 'car', route: '返回佐久平', time: '25分' }
                        },
                    ]
                },
                {
                    date: '12/31',
                    day: 'Wed',
                    title: '除夕．秩父與跨年',
                    hotel: hotels.last,
                    events: [
                        { 
                            time: '09:00', 
                            title: 'Check-out & Drive', 
                            location: 'Nagano to Saitama', 
                            type: 'move', 
                            details: '出發前往秩父。',
                            transport: { type: 'car', route: '經國道/山路前往秩父', time: '2小時' }
                        },
                        { 
                            time: '11:30', 
                            title: 'Lunch: 安田屋 / 野さか', 
                            location: 'Chichibu', 
                            type: 'food', 
                            details: '草鞋炸豬排丼 (秩父名物)。' 
                        },
                        { 
                            time: '15:00', 
                            title: '開車返回東京', 
                            location: 'Highway', 
                            type: 'move', 
                            details: '預留塞車時間，務必準時。',
                            transport: { type: 'car', route: '秩父→東京淺草橋', time: '3小時' }
                        },
                        { 
                            time: '20:00', 
                            title: '還車: IX Rental Car', 
                            location: '淺草橋', 
                            type: 'move', 
                            important: true, 
                            details: '加滿油歸還。' 
                        },
                        { 
                            time: '20:30', 
                            title: 'Dinner: 檸檬牛舌', 
                            location: '淺草 2-9-13', 
                            type: 'food', 
                            details: '【已預約】厚切牛舌。' 
                        },
                        { 
                            time: '23:00', 
                            title: 'Countdown: 增上寺', 
                            location: 'Zojoji Temple', 
                            type: 'sight', 
                            details: '看東京鐵塔倒數。',
                            transport: { type: 'train', route: '淺草線 (淺草→大門)', time: '15分' }
                        },
                    ]
                },
                {
                    date: '1/1',
                    day: 'Thu',
                    title: '回家',
                    hotel: hotels.home,
                    events: [
                        { 
                            time: '04:00', 
                            title: 'Check-out', 
                            location: 'Nihonbashi', 
                            type: 'move' 
                        },
                        { 
                            time: '04:10', 
                            title: '機場專車接送', 
                            location: 'Hotel Entrance', 
                            type: 'move', 
                            details: '【已預約】司機接送。' 
                        },
                        { 
                            time: '06:35', 
                            title: 'Flight Back to HK', 
                            location: 'Haneda/Narita', 
                            type: 'flight' 
                        },
                    ]
                }
            ];

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-800 pb-24 relative overflow-hidden">
                    <Snowfall />

                    {/* Header */}
                    <div className="bg-gradient-to-br from-[#1a2a6c] via-[#b21f1f] to-[#fdbb2d] text-white pb-10 pt-14 px-6 rounded-b-[3rem] shadow-2xl relative z-10 overflow-hidden">
                        <div className="absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 opacity-90"></div>
                        <div className="absolute top-0 left-0 w-full h-full opacity-20 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"></div>
                        
                        <div className="relative z-10 flex flex-col items-center">
                            <div className="flex items-center gap-2 mb-3 text-cyan-200 bg-white/10 px-4 py-1 rounded-full backdrop-blur-md border border-white/10">
                                <Snowflake className="w-4 h-4 animate-spin-slow" />
                                <span className="text-xs font-bold tracking-[0.2em] uppercase">Tokyo Trip 2025</span>
                            </div>
                            <h1 className="text-3xl font-bold text-center mb-2 text-white drop-shadow-md tracking-wide">
                                東京冰藍浪漫之旅
                            </h1>
                            <p className="text-indigo-200 text-sm font-light">Dec 24 - Jan 1</p>
                        </div>
                    </div>

                    {/* Main Content */}
                    <div className="max-w-md mx-auto -mt-8 px-4 relative z-20">
                        
                        {activeTab === 'itinerary' && (
                            <div className="space-y-6">
                                {/* Date Selector */}
                                <div className="flex overflow-x-auto gap-3 pb-4 px-1 no-scrollbar snap-x">
                                    {itineraryData.map((item, index) => (
                                        <button
                                            key={index}
                                            onClick={() => setSelectedDate(index)}
                                            className={`flex-shrink-0 snap-center min-w-[4rem] h-16 rounded-2xl flex flex-col items-center justify-center transition-all duration-300 border backdrop-blur-md ${
                                                selectedDate === index 
                                                    ? 'bg-slate-800/90 text-cyan-300 border-slate-700 shadow-xl scale-105' 
                                                    : 'bg-white/80 text-slate-500 border-white/50 hover:bg-white'
                                            }`}
                                        >
                                            <span className="text-[10px] font-bold uppercase tracking-wider">{item.date}</span>
                                            <span className="text-xl font-bold">{item.day}</span>
                                        </button>
                                    ))}
                                </div>

                                {/* Daily Content */}
                                <div className="animate-fade-in pb-20">
                                    <div className="flex items-center gap-3 mb-6 ml-2">
                                        <div className="w-1.5 h-1.5 rounded-full bg-cyan-500"></div>
                                        <h2 className="text-xl font-bold text-slate-800 tracking-tight">{itineraryData[selectedDate].title}</h2>
                                    </div>
                                    
                                    <div className="space-y-2">
                                        {itineraryData[selectedDate].events.map((event, idx) => (
                                            <ItineraryCard key={idx} {...event} />
                                        ))}
                                    </div>

                                    {/* Tonight's Hotel */}
                                    <HotelCard hotel={itineraryData[selectedDate].hotel} />
                                    
                                </div>
                            </div>
                        )}

                        {activeTab === 'budget' && <BudgetCalculator />}
                    </div>

                    {/* Bottom Navigation */}
                    <div className="fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-white/80 backdrop-blur-xl border border-white/40 text-slate-500 rounded-full shadow-2xl px-8 py-3 flex gap-12 z-50 hover:scale-105 transition-transform duration-300">
                        <button 
                            onClick={() => setActiveTab('itinerary')} 
                            className={`flex flex-col items-center gap-1 transition-all duration-300 ${activeTab === 'itinerary' ? 'text-blue-600 -translate-y-1' : 'hover:text-blue-400'}`}
                        >
                            <Calendar size={22} strokeWidth={activeTab === 'itinerary' ? 2.5 : 2} />
                            {activeTab === 'itinerary' && <span className="w-1 h-1 rounded-full bg-blue-600"></span>}
                        </button>
                        <button 
                            onClick={() => setActiveTab('budget')} 
                            className={`flex flex-col items-center gap-1 transition-all duration-300 ${activeTab === 'budget' ? 'text-blue-600 -translate-y-1' : 'hover:text-blue-400'}`}
                        >
                            <DollarSign size={22} strokeWidth={activeTab === 'budget' ? 2.5 : 2} />
                            {activeTab === 'budget' && <span className="w-1 h-1 rounded-full bg-blue-600"></span>}
                        </button>
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>
